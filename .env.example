# ======================
# Infra
# ======================
POSTGRES_URL=postgresql://minishop:minishop@localhost:5432/minishop
REDIS_URL=redis://localhost:6379
KAFKA_BROKER=localhost:9092

# ======================
# App
# ======================
JWT_SECRET=change-me-in-prod
API_PORT=3000
WS_PORT=3000

# ======================
# Outbox (API / Worker)
# ======================
# Intervalo entre execuções do publisher
OUTBOX_PUBLISH_INTERVAL_MS=1000

# Quantidade máxima de eventos processados por ciclo
OUTBOX_BATCH_SIZE=20

# TTL do lock (segundos) para evitar deadlock
OUTBOX_LOCK_TTL_SEC=30

# Identificador do nó que está processando (API/Worker)
OUTBOX_LOCKER_ID=api-1

# Backoff base para retry (exponencial)
OUTBOX_BASE_BACKOFF_MS=500

# ======================
# Worker
# ======================
WORKER_MAX_RETRIES=5
WORKER_RETRY_BASE_MS=200